!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).rexperlingrivatywellplugin=e()}(void 0,function(){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(o,"string"))?i:String(i)),n)}var o,i}function t(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);if(o){var r=i(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return a(this,t)}}function m(t){return t*t*t*(t*(6*t-15)+10)}function P(t,e,r){return(1-r)*t+r*e}var e=function(){function n(t,e,r){o(this,n),this.x=t,this.y=e,this.z=r}return t(n,[{key:"dot2",value:function(t,e){return this.x*t+this.y*e}},{key:"dot3",value:function(t,e,r){return this.x*t+this.y*e+this.z*r}}]),n}(),c=[new e(1,1,0),new e(-1,1,0),new e(1,-1,0),new e(-1,-1,0),new e(1,0,1),new e(-1,0,1),new e(1,0,-1),new e(-1,0,-1),new e(0,1,1),new e(0,-1,1),new e(0,1,-1),new e(0,-1,-1)],l=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],M=.5*(Math.sqrt(3)-1),O=(3-Math.sqrt(3))/6,V=1/6,r=function(){function e(t){o(this,e),void 0===t&&(t=0),this.perm=new Array(512),this.gradP=new Array(512),this.setSeed(t)}return t(e,[{key:"setSeed",value:function(t){var e=this.perm,r=this.gradP;0<t&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var n=0;n<256;n++){var o;o=1&n?l[n]^255&t:l[n]^t>>8&255,e[n]=e[n+256]=o,r[n]=r[n+256]=c[o%12]}}},{key:"simplex2",value:function(t,e){var r,n,o=this.perm,i=this.gradP,u=(t+e)*M,a=Math.floor(t+u),f=Math.floor(e+u),c=(a+f)*O,l=t-a+c,s=e-f+c;n=s<l?(r=1,0):(r=0,1);var h=l-r+O,d=s-n+O,y=l-1+2*O,p=s-1+2*O,v=i[(a&=255)+o[f&=255]],b=i[a+r+o[f+n]],w=i[a+1+o[f+1]],m=.5-l*l-s*s,P=.5-h*h-d*d,g=.5-y*y-p*p;return 70*((m<0?0:(m*=m)*m*v.dot2(l,s))+(P<0?0:(P*=P)*P*b.dot2(h,d))+(g<0?0:(g*=g)*g*w.dot2(y,p)))}},{key:"simplex3",value:function(t,e,r){var n,o,i,u,a,f,c=this.perm,l=this.gradP,s=(t+e+r)*(1/3),h=Math.floor(t+s),d=Math.floor(e+s),y=Math.floor(r+s),p=(h+d+y)*V,v=t-h+p,b=e-d+p,w=r-y+p;f=b<=v?w<=b?(a=u=n=1,i=o=0):u=w<=v?(a=i=o=0,n=1):(a=o=n=0,i=1):b<w?(u=o=n=0,a=i=1):v<w?(u=i=n=0,a=o=1):(a=u=o=1,i=n=0);var m=v-n+V,P=b-o+V,g=w-i+V,M=v-u+2*V,O=b-a+2*V,j=w-f+2*V,x=v-1+.5,S=b-1+.5,k=w-1+.5,_=l[(h&=255)+c[(d&=255)+c[y&=255]]],R=l[h+n+c[d+o+c[y+i]]],T=l[h+u+c[d+a+c[y+f]]],E=l[h+1+c[d+1+c[y+1]]],B=.6-v*v-b*b-w*w,q=.6-m*m-P*P-g*g,z=.6-M*M-O*O-j*j,A=.6-x*x-S*S-k*k;return 32*((B<0?0:(B*=B)*B*_.dot3(v,b,w))+(q<0?0:(q*=q)*q*R.dot3(m,P,g))+(z<0?0:(z*=z)*z*T.dot3(M,O,j))+(A<0?0:(A*=A)*A*E.dot3(x,S,k)))}},{key:"perlin2",value:function(t,e){var r=this.perm,n=this.gradP,o=Math.floor(t),i=Math.floor(e);t-=o,e-=i;var u=n[(o&=255)+r[i&=255]].dot2(t,e),a=n[o+r[i+1]].dot2(t,e-1),f=n[o+1+r[i]].dot2(t-1,e),c=n[o+1+r[i+1]].dot2(t-1,e-1),l=m(t);return P(P(u,f,l),P(a,c,l),m(e))}},{key:"perlin3",value:function(t,e,r){var n=this.perm,o=this.gradP,i=Math.floor(t),u=Math.floor(e),a=Math.floor(r);t-=i,e-=u,r-=a;var f=o[(i&=255)+n[(u&=255)+n[a&=255]]].dot3(t,e,r),c=o[i+n[u+n[a+1]]].dot3(t,e,r-1),l=o[i+n[u+1+n[a]]].dot3(t,e-1,r),s=o[i+n[u+1+n[a+1]]].dot3(t,e-1,r-1),h=o[i+1+n[u+n[a]]].dot3(t-1,e,r),d=o[i+1+n[u+n[a+1]]].dot3(t-1,e,r-1),y=o[i+1+n[u+1+n[a]]].dot3(t-1,e-1,r),p=o[i+1+n[u+1+n[a+1]]].dot3(t-1,e-1,r-1),v=m(t),b=m(e),w=m(r);return P(P(P(f,h,v),P(c,d,v),w),P(P(l,y,v),P(s,p,v),w),b)}}]),e}(),s=Phaser.Utils.Objects.GetValue,h=function(){function e(t){o(this,e),this.active=!0,this.noise=new r(s(t,"seed",Math.random())),this.periodScale=s(t,"periodScale",2e-4),this.rotateScale=s(t,"rotateScale",.3),this.velocity=new Phaser.Math.Vector2}return t(e,[{key:"update",value:function(t,e){var r=e*this.periodScale,n=this.noise.perlin2(t.x*r,t.y*r)*Math.PI;this.velocity.set(t.velocityX,t.velocityY).rotate(n*this.rotateScale),t.velocityX=this.velocity.x,t.velocityY=this.velocity.y}}]),e}();return function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(r,Phaser.Plugins.BasePlugin);var e=f(r);function r(t){return o(this,r),e.call(this,t)}return t(r,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t){return new h(t)}}]),r}()});
