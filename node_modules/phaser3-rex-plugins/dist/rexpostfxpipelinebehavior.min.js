!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(e="undefined"!=typeof globalThis?globalThis:e||self).rexpostfxpipelinebehavior=i()}(void 0,function(){function r(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,"symbol"==typeof(o=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return("string"===i?String:Number)(e);var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(r,"string"))?o:String(o)),n)}var r,o}var i=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,o=Phaser.Utils.Objects.GetValue,s=Phaser.Utils.Array.Remove,e=function(){function n(e,i){var t;!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,n),this.gameObject=e,this.scene=e.scene,p(i)?(t=i,i=void 0):t=o(i,"PipelineClass"),t&&(this.createPipeline=function(e){return new t(e)}),o(i,"enable",!!i)&&this.getPipeline(i)}var e,i,t;return e=n,(i=[{key:"getPipeline",value:function(e){if(!this.pipeline){var i=this.createPipeline(this.scene.game),t=this.gameObject,n=t.postPipelines;i.gameObject=t,n.push(i),t.hasPostPipeline=0<n.length,this.pipeline=i}return e&&this.pipeline.resetFromJSON&&this.pipeline.resetFromJSON(e),this.pipeline}},{key:"freePipeline",value:function(){if(!this.pipeline)return this;var e=this.gameObject,i=e.postPipelines;return s(i,this.pipeline),e.hasPostPipeline=0<i.length,this.pipeline.destroy(),this.pipeline=void 0,this}},{key:"createPipeline",value:function(){}}])&&r(e.prototype,i),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),n}(),p=function(e){return e&&e.prototype&&e.prototype instanceof i};return e});
